<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Leaderboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body {
        font-family: Arial;
        background: #111;
        color: #fff;
        text-align: center;
        padding: 20px;
    }
    h2 {
        color: #00eaff;
    }
    .card {
        background: #222;
        padding: 15px;
        border-radius: 12px;
        margin: 10px 0;
        font-size: 18px;
    }
    .rank {
        font-size: 22px;
        font-weight: bold;
        color: gold;
    }
</style>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>

<body>

<h2>üèÜ Top Players</h2>

<div id="list">Loading...</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    fetch("/admin/users")       // API call
        .then(res => res.json())
        .then(data => {
            if (data.length === 0) {
                document.getElementById("list").innerHTML = "No players yet!";
                return;
            }

            let html = "";
            data.slice(0, 10).forEach((u, i) => {
                html += `
                    <div class="card">
                        <div class="rank">#${i+1}</div>
                        User <b>${u.id}</b><br>
                        Coins: <b>${u.coins}</b>
                    </div>
                `;
            });

            document.getElementById("list").innerHTML = html;
        });
</script>

</body>
</html>
